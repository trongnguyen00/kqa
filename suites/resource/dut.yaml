commands:
  show-all-vlan:
    - model: default
      shell: |
        traffic-profile trongnk_test modify
          tcont 1
            gemport 1/1
            dba-profile GPON_BE
          mapper 1
            gemport count 1
          bridge 1
            ani mapper {{mapper_value}}
            uni virtual-eth {{uni_value}}
              extended-vlan-tagging-operation s-202t
          apply
        !
        class-map dscp_46
         match dscp 46
         match ip any any any
        !

  set_dhcp4_wan:
    - model: default
      shell: |
        ba-cli WANManager.WAN.vlanmode.Intf.wan.IPv4Mode=dhcp4
        ba-cli WANManager.WAN.vlanmode.Intf.wan.IPv4Reference=Device.IP.Interface.2.

verify:
  interface-check:
    - model: default
      shell: |
        +------------------+-------------------------+
        | Interface        | TYPE                    |
        +------------------+-------------------------+
        | xgspon0/1        | Ethernet                |
        | xgspon0/2        | Ethernet                |
        +------------------+-------------------------+
  olt-us-vlan-check:
    - model: default
      shell: |
        +----------+-------+-------+-------+--------+
        |   MAPPER |   GEM |   VID |   COS | TPID   |
        +----------+-------+-------+-------+--------|
        |        1 |     1 |    10 |     0 | 0x8100 |
        |        1 |     2 |    12 |     0 | 0x8100 |
        +----------+-------+-------+-------+--------+
